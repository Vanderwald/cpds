{"version":3,"sources":["webpack:///./node_modules/@ionic/core/dist/esm/es5/build/tap-click.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAkE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,4DAAG;AACvB;AACA;AACA;AACA,oBAAoB,4DAAG;AACvB;AACA;AACA;AACA,gBAAgB,4DAAG;AACnB;AACA;AACA;AACA;AACA;AACA,gBAAgB,4DAAG;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,4DAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACyB","file":"162.js","sourcesContent":["import { c as now, l as pointerCoord } from './chunk-e7816c0b.js';\nfunction startTapClick(doc) {\n    var lastTouch = -MOUSE_WAIT * 10;\n    var lastActivated = 0;\n    var cancelled = false;\n    var scrolling = false;\n    var activatableEle;\n    var activeDefer;\n    var clearDefers = new WeakMap();\n    function onBodyClick(ev) {\n        if (cancelled || scrolling) {\n            ev.preventDefault();\n            ev.stopPropagation();\n        }\n    }\n    function onTouchStart(ev) {\n        lastTouch = now(ev);\n        pointerDown(ev);\n    }\n    function onTouchEnd(ev) {\n        lastTouch = now(ev);\n        pointerUp(ev);\n    }\n    function onMouseDown(ev) {\n        var t = now(ev) - MOUSE_WAIT;\n        if (lastTouch < t) {\n            pointerDown(ev);\n        }\n    }\n    function onMouseUp(ev) {\n        var t = now(ev) - MOUSE_WAIT;\n        if (lastTouch < t) {\n            pointerUp(ev);\n        }\n    }\n    function cancelActive() {\n        clearTimeout(activeDefer);\n        activeDefer = undefined;\n        if (activatableEle) {\n            removeActivated(false);\n            activatableEle = undefined;\n        }\n        cancelled = true;\n    }\n    function pointerDown(ev) {\n        if (activatableEle || scrolling) {\n            return;\n        }\n        cancelled = false;\n        setActivatedElement(getActivatableTarget(ev), ev);\n    }\n    function pointerUp(ev) {\n        if (scrolling) {\n            return;\n        }\n        setActivatedElement(undefined, ev);\n        if (cancelled && ev.cancelable) {\n            ev.preventDefault();\n        }\n    }\n    function setActivatedElement(el, ev) {\n        if (el && el === activatableEle) {\n            return;\n        }\n        clearTimeout(activeDefer);\n        activeDefer = undefined;\n        var _a = pointerCoord(ev), x = _a.x, y = _a.y;\n        if (activatableEle) {\n            if (clearDefers.has(activatableEle)) {\n                throw new Error('internal error');\n            }\n            if (!activatableEle.classList.contains(ACTIVATED)) {\n                addActivated(activatableEle, x, y);\n            }\n            removeActivated(true);\n        }\n        if (el) {\n            var deferId = clearDefers.get(el);\n            if (deferId) {\n                clearTimeout(deferId);\n                clearDefers.delete(el);\n            }\n            el.classList.remove(ACTIVATED);\n            activeDefer = setTimeout(function () {\n                addActivated(el, x, y);\n                activeDefer = undefined;\n            }, ADD_ACTIVATED_DEFERS);\n        }\n        activatableEle = el;\n    }\n    function addActivated(el, x, y) {\n        lastActivated = Date.now();\n        el.classList.add(ACTIVATED);\n        var rippleEffect = getRippleEffect(el);\n        if (rippleEffect && rippleEffect.addRipple) {\n            rippleEffect.addRipple(x, y);\n        }\n    }\n    function removeActivated(smooth) {\n        var active = activatableEle;\n        if (!active) {\n            return;\n        }\n        var time = CLEAR_STATE_DEFERS - Date.now() + lastActivated;\n        if (smooth && time > 0) {\n            var deferId = setTimeout(function () {\n                active.classList.remove(ACTIVATED);\n                clearDefers.delete(active);\n            }, CLEAR_STATE_DEFERS);\n            clearDefers.set(active, deferId);\n        }\n        else {\n            active.classList.remove(ACTIVATED);\n        }\n    }\n    doc.body.addEventListener('click', onBodyClick, true);\n    doc.body.addEventListener('ionScrollStart', function () {\n        scrolling = true;\n        cancelActive();\n    });\n    doc.body.addEventListener('ionScrollEnd', function () {\n        scrolling = false;\n    });\n    doc.body.addEventListener('ionGestureCaptured', cancelActive);\n    doc.addEventListener('touchstart', onTouchStart, true);\n    doc.addEventListener('touchcancel', onTouchEnd, true);\n    doc.addEventListener('touchend', onTouchEnd, true);\n    doc.addEventListener('mousedown', onMouseDown, true);\n    doc.addEventListener('mouseup', onMouseUp, true);\n}\nfunction getActivatableTarget(ev) {\n    if (ev.composedPath) {\n        var path = ev.composedPath();\n        for (var i = 0; i < path.length - 2; i++) {\n            var el = path[i];\n            if (el.hasAttribute && el.hasAttribute('ion-activatable')) {\n                return el;\n            }\n        }\n    }\n    else {\n        return ev.target.closest('[ion-activatable]');\n    }\n}\nfunction getRippleEffect(el) {\n    if (el.shadowRoot) {\n        var ripple = el.shadowRoot.querySelector('ion-ripple-effect');\n        if (ripple) {\n            return ripple;\n        }\n    }\n    return el.querySelector('ion-ripple-effect');\n}\nvar ACTIVATED = 'activated';\nvar ADD_ACTIVATED_DEFERS = 200;\nvar CLEAR_STATE_DEFERS = 200;\nvar MOUSE_WAIT = 2500;\nexport { startTapClick };\n"],"sourceRoot":""}